<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Embed (with visible origin)</title>
  <style>
    :root{--bar-height:42px;--bar-bg:#0b1220;--bar-color:#fff}
    html,body{height:100%;margin:0}
    /* top bar: always visible, shows origin + controls */
    .topbar{
      position:fixed;
      top:0;left:0;right:0;height:var(--bar-height);
      background:linear-gradient(90deg,#0b1220, #14243a);
      color:var(--bar-color);display:flex;align-items:center;gap:12px;padding:6px 12px;
      font-family:system-ui,Segoe UI,Roboto,Arial;font-size:13px;z-index:9999;
      box-shadow:0 2px 8px rgba(0,0,0,0.25);
    }
    .origin{font-weight:600;background:rgba(255,255,255,0.06);padding:6px 10px;border-radius:6px}
    .actions{margin-left:auto;display:flex;gap:8px}
    .btn{background:rgba(255,255,255,0.08);color:var(--bar-color);padding:6px 10px;border-radius:6px;text-decoration:none;border:0;cursor:pointer;font-size:13px}
    /* iframe fills remaining space under topbar */
    .frameWrap{position:fixed;top:var(--bar-height);left:0;right:0;bottom:0;background:#fff}
    iframe{width:100%;height:100%;border:0;display:block}
    /* small watermark to indicate this is a test environment */
    .watermark{position:fixed;right:8px;bottom:8px;background:rgba(0,0,0,0.45);color:#fff;padding:6px 8px;border-radius:6px;font-size:12px;z-index:9999}
  </style>
</head>
<body>
  <div class="topbar" role="banner" aria-label="Source toolbar">
    <div style="display:flex;align-items:center;gap:10px">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M3 12h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      <div style="display:flex;flex-direction:column;line-height:1">
        <div style="font-weight:700">Embedded page (test)</div>
        <div class="origin" id="originText">https://apkpure.net</div>
      </div>
    </div>

    <div class="actions">
      <a id="openOriginal" class="btn" href="https://apkpure.net/id/amp" target="_blank" rel="noopener">Open original</a>
      <button id="reloadBtn" class="btn" type="button">Reload</button>
    </div>
  </div>

  <div class="frameWrap" id="frameWrap">
    <iframe id="theFrame" src="https://apkpure.net/id/amp" title="Embedded target"></iframe>
  </div>

  <div class="watermark">TEST ENV â€” origin visible</div>

<script>
  // update originText dynamically from iframe.src (helpful if you change target variable)
  const frame = document.getElementById('theFrame');
  const originText = document.getElementById('originText');
  const openOriginal = document.getElementById('openOriginal');
  const reloadBtn = document.getElementById('reloadBtn');

  function setOrigin(url){
    try {
      const u = new URL(url);
      originText.textContent = u.origin;
      openOriginal.href = url;
    } catch(e){
      originText.textContent = url;
      openOriginal.href = url;
    }
  }

  // initial
  setOrigin(frame.src);

  // if you change src dynamically later, call setOrigin(newUrl)
  reloadBtn.addEventListener('click', ()=> frame.contentWindow.location.reload());
</script>
</body>
</html>
